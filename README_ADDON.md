
# LivePlace Addon Plus (non‑destructive)

Этот аддон **не трогает** твой старый `bot.py`. Он:
- импортирует его как модуль,
- добавляет команды `/go`, `/repeat`, `/alert`,
- запускает поллинг сам.

## Запуск
```
python bot_plus.py
```

> Используются те же переменные из твоего `.env` (мы их **не меняли** и не печатаем в логах).

## Новые фичи
- **/go** `city=Tbilisi&district=Vake&rooms=2&price=500-1000&mode=rent&type=Apartment` — быстрый поиск по deep‑link параметрам.
- **/repeat** — показывает последние 3 поисковых фильтра.
- **/alert** — подписка на фильтр (по текущему городу/району/режиму, если сделан поиск). Пуши приходят батчем, не чаще 1 раза в 3 часа.
- **/alerts_list** и **/alerts_off** — управление подпиской.

## Хранилище
- `./data/recent.json`
- `./data/alerts.json`

## Как это работает внутри
- Мы используем существующие функции твоего бота (например `finish_search`, `rows_async`, `format_card`) и не переписываем их.
- Фоновая задача `_alerts_loop()` читает Google Sheets и отправляет новые карточки, если появились объявления свежее последней отправки.

## Откат
Просто останови процесс `bot_plus.py` и запусти как раньше `python bot.py`.
